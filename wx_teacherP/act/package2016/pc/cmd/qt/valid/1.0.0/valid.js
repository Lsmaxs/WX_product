define(function(require,exports,module){var a={errIndex:-1,errMsg:"",required:function(a){return a?!0:!1},username:function(a){return/^[a-zA-Z][a-zA-Z0-9]{5,15}$/.test(a)},email:function(a){return/^[\w\-\.]{1,}@([\w\-]{1,}\.){1,}[\w\-]{1,}$/.test(a)},realname:function(a){return/^[\u4e00-\u9fa5]{1,10}$/.test(a)},password:function(a){return a.length<6||a.length>16?!1:!0},length:function(a,b,c){return c=c?c:0,a&&a.length<=b&&a.length>=c?!0:!1},qq:function(a){return/^[1-9][0-9]{4,19}$/.test(a)},phone:function(a){return/^1([3456789])\d{9}$/.test(a)},tel:function(a){return/^[1-9]\d{6,7}$/.test(a)||/^\d{3,4}-[1-9]\d{6,7}$/.test(a)},ip:function(a){var b,c,d;if(b=a.split("."),!b||4!=b.length)return!1;for(c=0;4>c;c++){if(/[^0-9]{1}/.test(b[c])||/^0[^0]{1}$/.test(b[c])||""==b[c])return!1;if(d=parseInt(b[c],10),(1>d||d>255)&&(0==c||3==c))return!1;if((0>d||d>255)&&(1==c||2==c))return!1}return 4==c?!0:void 0},postcode:function(a){return/^\d{6}$/.test(a)},pic:function(a){return/\.(?:jpg|gif|png|jpeg|JPG|GIF|PNG|JPEG)$/.test(a)},idcard:function(a){var b,c,d;if(b=/^\d{17}[xX0-9]{1}|\d{15}$/,b.test(a)){if(c=this.specials.isChinaIdCardNoDetail(a),18==a.length)return d=this.specials.idcard18(a),d&&c?!0:!1;if(15==a.length)return c?!0:!1}return!1},equalto:function(a){var b=document.getElementById(a.getAttribute("equaltarget"));return b&&b.value!=a.value?!1:!0},specials:{idcard18:function(a){var b,c,d,e;if(b=["1","0","X","9","8","7","6","5","4","3","2"],c=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],a=a.toUpperCase(),a&&18==a.length){for(d=0,e=0;17>e;e++)d+=parseInt(a.substring(e,e+1))*c[e];if(a.charAt(17)==b[d%11])return!0}return!1},isChinaIdCardNoDetail:function(a){var b,c,d,e,f,g,h,i;for(b=[11,12,13,14,15,21,22,23,31,32,33,34,35,36,37,41,42,43,44,45,46,50,51,52,53,54,61,62,63,64,65,71,81,82,91],c=parseInt(a.substring(0,2),10),d=!1,e=0,f=b.length;f>e;e++)if(b[e]==c){d=!0;break}if(g=parseInt(a.substring(6,10),10),h=parseInt(a.substring(10,12),10),i=parseInt(a.substring(12,14),10),15==a.length&&(g=1900+parseInt(a.substring(6,8),10),h=parseInt(a.substring(8,10),10),i=parseInt(a.substring(10,12),10),g>1980))return!1;if((1800>g||0>=h||h>12||0>=i||i>31)&&(d=!1),d)switch(h){case 1:case 3:case 5:case 7:case 8:case 10:case 12:i>31&&(d=!1);break;case 4:case 6:case 9:case 11:i>30&&(d=!1);break;case 2:g%4==0&&g%100!=0||g%400==0?d=i>29?!1:!0:i>28&&(d=!1);break;default:d=!1}return d}},extendRule:function(a){var b;for(b in a)this[b]=a[b]},checkAll:function(a,b,c){var d,e,f,g;if(d=0,e=a,!e)return!0;for(f=0,g=e.length;g>f;f++)this.check(e[f],b,c)||(d++,1==d&&(this.errIndex=f,this.errMsg="name:"+e[f].getAttribute("name")+"/id:"+e[f].getAttribute("id")+"/valid:"+e[f].getAttribute("valid")));return d>0?!1:!0},check:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;if(d=0==a.disabled?(a.getAttribute("valid")?a.getAttribute("valid"):"").split(/\s+/):[],e=a.value,"required"!=d[0]&&!e)return c?c(a):this.sucFun(a),!0;for(f=0,g=d.length;g>f;f++){for(h=d[f].split("|"),i=0,j=!1,k=0,l=h.length;l>k;k++)m=h[k].indexOf("length"),this[h[k]]||0==m?0==m?(n=h[k].substr(6).split("-"),j|=this.length(e,n[1]?parseInt(n[1]):n[0]?parseInt(n[0]):9999,n[1]&&n[0]?parseInt(n[0]):0)):j|=this[h[k]]("equalto"==h[k]?a:e):i++;if(h.length==i&&(j=!0),!j)return b?b(a):this.errFun(a),!1}return c?c(a):this.sucFun(a),!0},errFun:function(){},sucFun:function(){}};module.exports=a});