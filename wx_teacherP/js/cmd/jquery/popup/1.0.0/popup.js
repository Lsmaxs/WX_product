define(function(require,exports,module){var a=require("jquery");a&&(a.fn.bgiframe=function(b){var c,d,e;return a.browser.msie&&"6.0"==a.browser.version?(e=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;"},b||{}),c=function(a){return a&&a.constructor==Number?a+"px":a},d='<iframe class="bgiframe" frameborder="0" tabindex="-1" src="'+e.src+'"style="display:block; position:absolute; z-index:-1;'+(e.opacity!==!1?"filter:Alpha(Opacity='0');":"")+"top:"+("auto"==e.top?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":c(e.top))+";left:"+("auto"==e.left?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":c(e.left))+";width:"+("auto"==e.width?"expression(this.parentNode.offsetWidth+'px')":c(e.width))+";height:"+("auto"==e.height?"expression(this.parentNode.offsetHeight+'px')":c(e.height))+';"/>',this.each(function(){0==a("> iframe.bgiframe",this).length&&this.insertBefore(document.createElement(d),this.firstChild)})):this},a.fn.popupOpen=function(b){var c=a.extend({speed:100,maskColor:"#666",maskOpacity:"0.6"},b||{}),d=c.callback||function(){},e=void 0===c.mask?!0:c.mask,f=document,g=a(this).width(),h=a(this).height()+parseInt(a(this).css("padding-top")),i=Math.max(f.documentElement.scrollTop,f.body.scrollTop),j=f.documentElement.scrollLeft,k=a.getViewSize(),l=k.width,m=k.height,n=(l-g)/2+j,o=(m-h)/2+i;return e&&a.showCover({style:{background:c.maskColor,opacity:c.maskOpacity}}),a(this).css(a.browser.msie&&"6.0"==a.browser.version||h>m?{top:(o>0?m>h?o:o-(h-m)/2:0)+"px",left:n+"px",position:"absolute","margin-top":"0px","margin-left":"0px"}:{top:"50%",left:"50%",position:"fixed",filter:"inherit","margin-left":-parseInt(g/2)+"px","margin-top":-parseInt(h/2)+"px"}),a(this).fadeIn(c.speed),d(a(this)),a(this)},a.fn.popupClose=function(b){var c=a.extend({},b||{}),d=c.callback||function(){},e=void 0===c.mask?!0:c.mask;return a(this).fadeOut(100),e&&a.hideCover(),d(a(this)),a(this)},a.extend({showCover:function(b){var c={id:"xl_jqfn_cover"};a.extend(c,b||{});var d=document,e=a.getPageSize(),f=e.width,g=e.height,h=a("#"+c.id),i={background:"#666666",filter:"alpha(opacity=60)","-moz-opacity":.6,opacity:.6,position:"absolute",left:0,top:0,"z-index":900,width:f+"px",height:g+"px",border:"none"};a.extend(i,c.style||{}),h[0]?a("#"+c.id).css(i).css({height:g+"px",width:f+"px"}).show():(div=a('<div id="'+c.id+'" style="opacity:0.6;"></div>'),div.css(i),a(d.body).append(div),covid=a("#"+c.id),covid.bgiframe(),covid.show())},hideCover:function(b){var c={id:"xl_jqfn_cover"};a.extend(c,b||{}),a("#"+c.id).hide()},getViewSize:function(){var a,b=0,c=0,d=document;return window.innerWidth?(a=window,b=a.innerWidth,c=a.innerHeight):d.documentElement&&d.documentElement.clientWidth&&(a=d.documentElement,b=a.clientWidth,c=a.clientHeight),{width:b,height:c}},getPageSize:function(){var a,b,c,d,e,f,g,h,i=document,j=i.documentElement,k=i.body;return a=j.clientWidth,b=j.scrollWidth,c=k.scrollWidth,d=j.clientHeight,e=j.scrollHeight,f=k.scrollHeight,g=Math.max(a,b,c),h=Math.max(d,e,f),{width:g,height:h}}})),module.exports=a});