(function(a,b){if(typeof define==="function"&&define.amd){define(b)}else{if(typeof define==="function"&&define.cmd){define(function(d,c,e){e.exports=b()})}else{if(typeof exports==="object"){module.exports=b()}else{a.ESAASBAR=b()}}}})(this,function(){var b={};var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAVCAYAAABVAo5cAAAABGdBTUEAALGPC/xhBQAAANBJREFUSA3lk0EKwjAQRWdKKwg5Ts8gCLrS9greqOLamkXsDbqwB+hxstLF+BMo9AIzCGYzkyzm5c/nc9c/Agk1ZHGYngUT7yxYiZFYhRVs4QAo03LRrzJxgoQQNs653GtBY4zStu1ba/4fz+Vr7z2JnIVZ1UMWEWIeStQ9Fl4Bqrr3PB2sAsJUla1VJFYK/rh+VO7HrA5rNVEJgbq+KW/rR8dz1/s7/nZCTlR9RM4BkKFE/g4AbtXdRM7BONrnEOCXld2JlX27zXNlAb3U9ecLBCpA6MmfgRgAAAAASUVORK5CYII=";var l={rootClass:"qt_esaasbar",defaultBtn:true,triggerEvent:"mouseenter",timeHold:200,theme:"black",btn:{background:"#4b575a",backgroundHover:"#5B656B",iconUrl:a,iconWidth:29,iconHeight:22,btnWidth:50,btnHeight:50},bar:{background:"#4b575a",borderHover:"#73767d",color:"#fff",width:90,padding:"0 0 15px 0",imgWidth:65,textMarginTop:6,textFontSize:14,itemSize:3,target:"_self",speed:400,left:0,top:"100%",zIndex:10,mod:"absolute"},data:[],onItemClick:null};var h=null;var f=window.jQuery;b.jqInit=function(n,m){f=n;b.init(m)};b.init=function(m){l=f.extend(true,l,m?m:{});if(!l.id){console&&console.log("esaas:options lost id");return}h=f("#"+l.id);if(!h.hasClass(""+l.rootClass)){h.addClass(""+l.rootClass);h.addClass(""+l.rootClass+"_btn")}k();d();g()};b.setData=function(m){l.data=m;b.reset()};b.reset=function(){k();d();g()};var i="esaas"+(new Date()).getTime();function k(){var n=new Array();if(l.theme=="white"){l.btn.background="#fff";l.btn.backgroundHover="#F4F6F5";l.bar.background="#fff";l.bar.borderHover="#CFCFCF";l.bar.color="#686868"}else{if(l.theme=="black"){l.btn.background="#4b575a";l.btn.backgroundHover="#5B656B";l.bar.background="#4b575a";l.bar.borderHover="#73767d";l.bar.color="#fff"}}var m=l.btn;n.push("."+l.rootClass+"{}");n.push("."+l.rootClass+" *{box-sizing:border-box;border:none;margin:0;padding:0;font-family: Arial,Microsoft YaHei;font-size: 14px;}");n.push("."+l.rootClass+" a{cursor:pointer; text-decoration:none;}");if(l.defaultBtn){n.push("."+l.rootClass+"_btn{position:relative;width:"+m.btnWidth+"px;height:"+m.btnHeight+"px;overflow:visible;}")}else{n.push("."+l.rootClass+"_btn{overflow:visible;}")}n.push("."+l.rootClass+"_icon{display:block;width:100%;height:100%;background-color:"+m.background+";}");n.push("."+l.rootClass+"_icon img{position:relative;width:"+m.iconWidth+"px;height:"+m.iconHeight+"px;}");n.push("."+l.rootClass+"_icon:hover{background-color:"+m.backgroundHover+";}");var q=l.bar;var r=q.width*q.itemSize;var o=c();var s=h.offset();var t=typeof q.top=="number"?(q.top+"px"):q.top;var u=q.left;if("absolute"==q.mod){t=s.top+m.btnHeight;t=t+(typeof q.top=="number"?q.top:0);t=t+"px";u=s.left+q.left}n.push("."+l.rootClass+"_ul{position:absolute;z-index:"+q.zIndex+";max-width:"+r+"px;left:"+u+"px;top:"+t+";background-color:"+q.background+";text-align:left;}");n.push("."+l.rootClass+"_li{display:inline-block;vertical-align:top;width:"+q.width+"px;padding:"+q.padding+";background-color:"+q.background+";}");n.push("."+l.rootClass+"_li{-webkit-transition:all 0.25s ease-out 0s;-moz-transition: all 0.25s ease-out 0s;transition: all 0.25s ease-out 0s;}");n.push("."+l.rootClass+"_li img{display:block;margin:auto;width:"+q.imgWidth+"px;max-width:100%;}");n.push("."+l.rootClass+"_li:hover img{border: 2px solid "+q.borderHover+";border-radius: 4px;}");n.push("."+l.rootClass+"_li span{display:block;text-align:center;color:"+q.color+";font-size:"+q.textFontSize+"px;margin-top:"+q.textMarginTop+"px;}");var p=f("#"+i);if(p.size()>0){p.text(n.join(""))}else{f("head").append('<style id="'+i+'">'+n.join("")+"</style>")}}function d(){var n=new Array();var s=new Array();if(l.defaultBtn){n.push('<a href="javascript:;" class="'+l.rootClass+'_icon"><img src="'+l.btn.iconUrl+'"></a>')}var m=l.data.length*l.bar.width;var q=h.attr("data-open")==1;s.push('<div class="'+l.rootClass+" "+l.rootClass+'_ul" style="width:'+m+"px;"+(q?"":"display:none;padding:20px 10px 35px 10px ;")+'">');for(var r=0;r<l.data.length;r++){var u=l.data[r];s.push('<a class="'+l.rootClass+'_li" href="'+u.ssoUrl+'" target="'+l.bar.target+'"><img src="'+u.icon+'"><span>'+u.name+"</span></a>")}s.push("</div>");h.find("."+l.rootClass+"_icon,."+l.rootClass+"_ul").remove();h.append(n.join(""));if("absolute"==l.bar.mod){f("body").append(s.join(""))}else{h.append(s.join(""))}var p=h.find("."+l.rootClass+"_icon");var t=(p.height()-l.btn.iconHeight)/2;var o=(p.width()-l.btn.iconWidth)/2;p.find("img").css({top:t+"px",left:o+"px"})}function j(){var m=l.btn;var q=l.bar;var r=q.width*q.itemSize;var p=c();var s=h.offset();var t=typeof q.top=="number"?(q.top+"px"):q.top;var u=q.left;if("absolute"==q.mod){t=s.top+m.btnHeight;t=t+(typeof q.top=="number"?q.top:0);t=t+"px";u=s.left-r+m.btnWidth-20+q.left}if(l.data.length<q.itemSize){var n=l.data.length;r=n*90;u=s.left-r+m.btnWidth-20+q.left}var o=f("."+l.rootClass+"_ul");o.css({"max-width":r+"px",left:u+"px",top:t})}var e=null;function g(){var m=l.triggerEvent+".esaas";var n=f("."+l.rootClass+"_ul");n.off().on("click","a",function(){if(l.onItemClick){var p=f(this);var o=n.find("a").index(this);return l.onItemClick.apply(this,[l.data[o]])}});if("mouseenter"==l.triggerEvent){h.off(m).on(m,function(){e&&clearTimeout(e);if(1==h.attr("data-open")){return}j();n.slideDown(l.bar.speed,function(){h.attr("data-open","1")})}).on("mouseleave.esaas",function(){e&&clearTimeout(e);e=setTimeout(function(){n.slideUp(l.bar.speed,function(){h.attr("data-open","0")})},l.timeHold)});n.on(m,function(){e&&clearTimeout(e)}).on("mouseleave.esaas",function(){e&&clearTimeout(e);e=setTimeout(function(){n.slideUp(l.bar.speed,function(){h.attr("data-open","0")})},l.timeHold)})}else{h.off(m).on(m,function(){if(1!=h.attr("data-open")){j();n.slideDown(l.bar.speed,function(){h.attr("data-open","1")})}else{n.slideUp(l.bar.speed,function(){h.attr("data-open","0")})}return false}).on(m,"."+l.rootClass+"_ul",function(){return false});f(window).off("click.esaas").on("click.esaas",function(){n.slideUp(l.bar.speed,function(){h.attr("data-open","0")})})}}function c(){var m=0,n=0,q,p=document;if(window.innerWidth){q=window;m=q.innerWidth;n=q.innerHeight}else{if(p.documentElement&&p.documentElement.clientWidth){q=p.documentElement;m=q.clientWidth;n=q.clientHeight}}return{width:m,height:n}}return b});